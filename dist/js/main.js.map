{"version":3,"sources":["main.js"],"names":["console","log","showMap","API_KEY","googleMap","document","querySelector","termEl","getElementById","locationEl","searchBtn","resultsEl","inputField","findFoodInput","findAreaInput","addEventListener","value","classList","add","remove","e","preventDefault","queryTerm","location","prices","getCheckedValues","querySelectorAll","searchYelp","checkedItems","allChecked","i","length","checkedItem","displayBusinesses","businessArray","innerHTML","lat","coordinates","latitude","long","longitude","currentBusiness","currentBusinessLocation","liEl","createElement","aEl","imgEl","h1AddresEl","p$El","pRatingEl","name","href","url","src","image_url","address1","city","state","zip_code","price","rating","appendChild","axios","get","params","headers","then","response","data","businesses","getLatLong","locationsArray","forEach","coordinate","business","lng","phone","push","style","display","table","googleMaps","showMarkers","foodType","areaInput","currentTextIndexArea","currentTextIndexFood","setInterval","hideShowingText","TweenMax","to","opacity","x","showNewText","fromTo","next"],"mappings":"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","file":"main.js","sourcesContent":["console.log(\"Fake Yelp\");\n\n(function(){\n\n    let showMap = false;\n\n    const API_KEY = 'xICUj5FsqM8P6cfNhFQEYwtYzrv75F4WEqj-Hns-fUTZgyLOzQBVyr01f9g3p-5P3J9S7LkrGhLEWjqi7t_ZHoZedrj9zV1E34GIIu1nLLF814cws_futxGtRGPiWnYx';\n                \n    let googleMap = document.querySelector('.mapClosed');\n    const termEl = document.getElementById('term');\n    const locationEl = document.getElementById('location');\n    const searchBtn = document.getElementById('search');\n    const resultsEl = document.getElementById('results');\n    let inputField = document.querySelector('label-food');\n    let findFoodInput = document.querySelector('input.find-food-input');\n    let findAreaInput = document.querySelector(\".find-area-input\");\n\n\n    findFoodInput.addEventListener('keyup', function() {\n        if (findFoodInput.value && findAreaInput.value) {\n            findFoodInput.classList.add('filled')\n        } else {\n            findFoodInput.classList.remove('filled')\n\n        }\n    })\n\n    findAreaInput.addEventListener('keyup', function() {\n        if (findAreaInput.value) {\n            findAreaInput.classList.add('filled')\n        } else {\n            findAreaInput.classList.remove('filled')\n\n        }\n    })\n\n\n    searchBtn.addEventListener(\"click\", function(e) {\n        e.preventDefault();\n\n        const queryTerm = termEl.value;\n        const location = locationEl.value;\n        const prices = getCheckedValues(document.querySelectorAll('[name=price]:checked'));\n\n        searchYelp(location, queryTerm, prices);\n    })\n\n    function getCheckedValues(checkedItems){\n        console.log('checked', checkedItems);\n        //option 1: the old-school JS way\n        let allChecked = '';\n        for (var i = checkedItems.length - 1; i >= 0; i--) {\n            var checkedItem = checkedItems[i];\n            allChecked = allChecked + ', ' + checkedItem;\n        }\n        return allChecked;\n    }\n\n    function displayBusinesses(businessArray){\n        \n        resultsEl.innerHTML = '';\n        \n        console.log(businessArray);\n        // resultsEl.removeChild(liEl);\n        for (var i = 0; i <= businessArray.length - 1; i++) {\n            console.log(businessArray[i]);\n            let lat = businessArray[i].coordinates.latitude;\n            let long = businessArray[i].coordinates.longitude;\n\n            console.log(lat, long);\n\n            const currentBusiness = businessArray[i];\n            const currentBusinessLocation = businessArray[i].location;\n            let liEl = document.createElement('li');\n            let aEl = document.createElement('a');\n            let imgEl = document.createElement('img');\n            let h1AddresEl = document.createElement('h1');\n            let p$El = document.createElement('p');\n            let pRatingEl = document.createElement('p');\n\n            aEl.innerHTML = currentBusiness.name;\n            aEl.href = currentBusiness.url;\n            imgEl.src = currentBusiness.image_url;\n            h1AddresEl.innerHTML = currentBusinessLocation.address1 + \"<br/>\" + currentBusinessLocation.city + \", \" + currentBusinessLocation.state + \" \" + currentBusinessLocation.zip_code; \n            p$El.innerHTML = currentBusiness.price;\n            pRatingEl.innerHTML = \"Rating \" + currentBusiness.rating;\n\n            liEl.appendChild(aEl);\n            liEl.appendChild(imgEl);\n            liEl.appendChild(h1AddresEl);\n            liEl.appendChild(p$El);\n            liEl.appendChild(pRatingEl);\n\n            resultsEl.appendChild(liEl);\n        }\n    }\n\n    function searchYelp(location, queryTerm, prices) {\n        axios.get(\"https://circuslabs.net/proxies/yelp-fusion-proxy/\", {\n            params: {\n                '_ep': '/businesses/search',\n                'term': queryTerm,\n                'location': location\n            },\n            headers: {\n                'Authorization': 'Bearer ' + API_KEY\n            }\n            \n        })\n        .then(function(response){\n            console.log('here is the get response data for key:', response.data);\n            displayBusinesses(response.data.businesses);\n            getLatLong(response)\n            \n        });\n    }\n\n    \n\n    let getLatLong = function(response){\n\t\tvar locationsArray = []\n\t\tresponse.data.businesses.forEach(business => {\n\t\t\tconst coordinate = {\n\t\t\t\tname: business.name,\n\t\t\t\tlat: business.coordinates.latitude, \n\t\t\t\tlng: business.coordinates.longitude,\n\t\t\t\tphone: business.phone,\n\t\t\t}    \n\t\t\tlocationsArray.push(coordinate)\n        })\n        \n        showMap = true;\n        if (showMap === true) {\n            googleMap.style.display = \"block\";\n        }\n\t\tconsole.table(locationsArray)\n        googleMaps.showMarkers(locationsArray)\n        \n        \n\t}\n\t\n\treturn {\n\t\tgetLatLong: getLatLong\n\t}\n\n})()\n\nlet foodType = document.querySelectorAll('.label-food');\nlet areaInput = document.querySelectorAll(\".label-area\");\n\n\nlet currentTextIndexArea = 0;\nlet currentTextIndexFood = 0;\nconsole.log(foodType)\n\nsetInterval(() => {\n\n    let hideShowingText = function() {\n        TweenMax.to( areaInput[currentTextIndexArea], 0.5, { \n            display: \"none\", \n            opacity: 0,\n            x: 30,\n        })\n    }\n\n    let showNewText = function() {\n        TweenMax.fromTo( areaInput[currentTextIndexArea], 0.5, {\n            display: \"none\", \n            opacity: 0,\n            x: -20\n        }, { \n            display: \"block\", \n            opacity: 1,\n            x: 0,\n         })\n    }   \n\n    let next = function() {\n        hideShowingText()\n        currentTextIndexArea++\n        if (currentTextIndexArea === areaInput.length) {\n\t\t\tcurrentTextIndexArea = 0;\n\t\t}\n\t\tshowNewText()\n    }\n    next()\n}, 4000)\n\nsetInterval(() => {\n\n    let hideShowingText = function() {\n        TweenMax.to( foodType[currentTextIndexFood], 0.3, { \n            display: \"none\", \n            opacity: 0,\n            x: 30,\n        })\n    }\n\n    let showNewText = function() {\n        TweenMax.fromTo( foodType[currentTextIndexFood], 0.3, {\n            display: \"none\", \n            opacity: 0,\n            x: -20\n        }, { \n            display: \"block\", \n            opacity: 1,\n            x: 0,\n         })\n    }   \n\n    let next = function() {\n        hideShowingText()\n        currentTextIndexFood++\n        if (currentTextIndexFood === foodType.length) {\n\t\t\tcurrentTextIndexFood = 0;\n\t\t}\n\t\tshowNewText()\n    }\n    next()\n}, 2000)"]}